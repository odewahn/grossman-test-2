<section data-type="chapter">
<h1>Module 3 - Deciding what to do next.&nbsp;</h1>

<p>At this point, the user has been asked if they want to play and the user has responded. We now need to check and see if what the user wants to do.&nbsp;</p>

<p>The&nbsp;<strong>puts&nbsp;</strong>&nbsp;statement outputs the question. &nbsp;The&nbsp;<strong>gets&nbsp;</strong>statement obtains the answer. &nbsp;The&nbsp;<strong>if-then</strong>&nbsp;statement will test for a condition and if the condition is true it will execute one or more commands and if the condition is false, it will execute other commands.&nbsp;</p>

<p>Up to now, a program just executed each step one after the other starting at the top and going to the bottom. &nbsp;Think of it like a recipe.&nbsp;</p>

<p>Obtain ingredients for making&nbsp;chocolate chip cookies that come with a mix where you need to add oil and eggs.&nbsp;</p>

<ol>
	<li>Break eggs and put eggs into mixing bowl</li>
	<li>measure oil and pour into mixing bowl</li>
	<li>pour cookie mix into mixing bowl</li>
	<li>mix the contents</li>
	<li>scoop contents into cookie sheet, one cookie at a time</li>
	<li>put sheet into oven</li>
	<li>bake</li>
	<li>remove cookies</li>
	<li>eat cookies</li>
</ol>

<p>Each step happens one after the other. &nbsp;Now imagine if we wanted to ask if someone wanted to make the cookies. &nbsp;So we would have a&nbsp;<strong>puts&nbsp;</strong>statement to ask the question and a&nbsp;<strong>gets&nbsp;</strong>statement to obtain the answer. &nbsp;</p>

<p>We need an&nbsp;<strong>if-then</strong>&nbsp;statement to find out if the user wants to make cookies and if so, go ahead and make them. &nbsp;Otherwise we can just display a message that says &quot;Fine, forget about the cookies.&quot;&nbsp;</p>

<p>The structure of an&nbsp;<strong>if-then</strong>&nbsp;statement in Ruby is:</p>

<p><strong>if</strong> (condition) &nbsp;<strong>then</strong></p>

<p>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; statements to do if the condition is true</p>

<p>&nbsp;</p>

<p><strong>else</strong></p>

<p>&nbsp; &nbsp; &nbsp;statements to do if the condition is false</p>

<p><strong>end</strong></p>

<p>&nbsp;</p>

<p>A condition is a comparison of a variable to a value and it is either true or false. &nbsp;If the condition is true, the statements after the&nbsp;<strong>then&nbsp;</strong>&nbsp;get executed, if it is false, the statements in the true part are skipped and only the statements after the&nbsp;<strong>else&nbsp;</strong>are executed.&nbsp;&nbsp; Note that any condition can only be <strong>true </strong>or <strong>false.&nbsp; </strong>We can test for equal, not equal, less then, greater than and many others.&nbsp; For an full discussion of the <strong>if-then-else </strong>statement click <a href="http://herehttps://atlas.oreilly.com/oreillymedia/computer-science-programming-basics-in-ruby-course/editor/master/ch04.html">here.</a></p>

<p>In our current case we simply have to find out if the user wishes to make cookies so we would say</p>

<p>puts &quot;Want to make cookies&quot;</p>

<p>x = gets.chop</p>

<p>if (x == &quot;yes&quot;) then</p>

<p>&nbsp; &nbsp; all the making cookie statements go here</p>

<p>else</p>

<p>&nbsp; &nbsp; puts &quot;its OK if you do not wish to make cookies.&quot;</p>

<p>end</p>

<p>&nbsp;</p>

<p>One type of condition is a direct comparison if a variable equals a value. The comparison operator in Ruby is two equal signs next to one another (==). &nbsp; Other comparison operators that allow you to test is a variable is less then or greater than a value are given <a href="http://comparisonoperators">here.</a>&nbsp;So here when we say (x == &quot;yes&quot;) we are asking if the variable&nbsp;<strong>x&nbsp;</strong>has the value &quot;yes&quot;. &nbsp;If it does we go to the cookie making section, if not we display a message that the user does not wish to make cookies.&nbsp;</p>

<p>For blackjack our growing program now looks like this:&nbsp; &nbsp;</p>

<pre data-type="programlisting">
&nbsp; &nbsp; 
&nbsp;   puts &nbsp; &quot;Ready to Deal (y = yes, q = quit)&quot;
&nbsp; &nbsp; input = gets.chop
&nbsp; &nbsp; if &nbsp;(input == 'y') then
&nbsp;      deck = Deck.new
&nbsp; &nbsp; &nbsp; &nbsp;player = Player.new(deck)
&nbsp; &nbsp; &nbsp; &nbsp;dealer = Dealer.new(deck)
&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;# now draw until stick
&nbsp; &nbsp; &nbsp; &nbsp;player.draw_remaining_cards

       if (player.is_not_busted?)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dealer.draw_remaining_cards
&nbsp; &nbsp; &nbsp; &nbsp;end

      &nbsp;puts &quot;Player: &quot; + player.score &quot;Dealer: &quot; + dealer.score
&nbsp; &nbsp; &nbsp; &nbsp;if player.score &gt; dealer.score&nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; puts &quot;Congratulations! You won.&quot;
&nbsp; &nbsp; &nbsp; &nbsp;else
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; puts &quot;Sorry you lost.&quot;
&nbsp; &nbsp; &nbsp; &nbsp;end
&nbsp; &nbsp; else
&nbsp; &nbsp; &nbsp; &nbsp;puts &quot;Sorry you didn't want to play.&quot;&nbsp;
&nbsp; &nbsp; end
end

puts &quot;Have a good day.&quot;


</pre>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line one is our friendly message to the user.&nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line two is where we get the response and chop off the newline with a &quot;\n&quot;.&nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Now we get to our new thing for this module which is our&nbsp;<strong>if-then&nbsp;</strong>statement. &nbsp;We test te condition if&nbsp;<em>(input == 'y') . &nbsp;</em>This compares the variable named&nbsp;<em>input&nbsp;</em>&nbsp;which was populated in line two with the value 'y'. &nbsp;'y' is in quotes so we are making it clear taht we are comparing to the character 'y' and not a variable named 'y'. &nbsp;The two equal signs are critical (instead of one which is a common error made every day by very experienced programmers) as they indicate that a comparison is to be made. &nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 3-12 are the core of the black jack game. &nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 4 initializes a deck of cards. &nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 5 initializes a player.&nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 6 initializes a dealer.&nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 7 has the player keep drawing cards until they elect to choose no more cards (e.gl; they decide to stick with their hand).&nbsp;</span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 8 has another if statement to see if the player has busted (gone over 21) or not. &nbsp;If the player has not busted then the dealer needs some cards which is handled by the method <strong>draw_remaining_cards </strong>in Line 9.&nbsp; A method is a sequence of steps that are defined separately.&nbsp; Imagine if we had a <strong>make_cookies</strong> method that had our numbered steps&nbsp; </span>from before -- then instead of repeating those 9 steps every time we wanted to have the program make cookies, we would just say <strong>make_cookies.&nbsp; </strong>Similarly, the steps to draw remaining cards have been stored in a <strong>method </strong>called <strong>draw_remaining_cards. </strong></p>

<p>Next after dealing the dealer cards we check the player total and compare to the dealer total in line 17. Notice the (&gt;) or greater than sign used in this comparison to see if the player has a higher total than the dealer. &nbsp;If the player does have a higher total the player wins, otherwise the dealer wins.&nbsp;</p>

<p>One thing we didn't emphasize is that an IF statement can have another IF statement in the middle of it.&nbsp;&nbsp; Notice that we have one IF statement in line 3 that checks to see the users input and then if the user did want to play blackjack we then execute the ruby commands in lines 4-20, otherwise we execute the ruby commands after the <strong>ELSE </strong>which is in line 22 and 23.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
</section>
