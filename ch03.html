<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" ng-app="console" lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>atlas book skeleton</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700" rel="stylesheet" type="text/css"> </link>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>

    <!-- Bootstrap core CSS -->
   <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
   <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"/>


   <!-- Includes for codemirror and jsrepl -->
   <script src="theme/html/javascripts/jquery-2.1.1.min.js"> </script>
   <script src="theme/html/javascripts/angular.min.js"> </script>
   <script src="theme/html/javascripts/jqconsole.min.js"> </script>
   <script src="theme/html/javascripts/jsrepl/jsrepl.js" id="jsrepl-script"> </script>
   <script src="theme/html/javascripts/codemirror.js"> </script>


   <!-- Includes for angular and the angular app -->
   <script src="theme/html/app.js"> </script>

   <!-- General stylesheet -->
   <link rel="stylesheet" type="text/css" href="theme/html/stylesheets/coderunner.css"/>
   <link rel="stylesheet" type="text/css" href="theme/html/stylesheets/codemirror.css"/>
   <link rel="stylesheet" type="text/css" href="theme/html/stylesheets/console.css"/>
   <link rel="stylesheet" type="text/css" href="theme/html/stylesheets/html.css"/>


    <script type="text/javascript">
      $(function() {
        $("#link-toc").click(function(e) {
          e.preventDefault();
          $("#sidebar").toggle();
        });
      });
    </script>
    <link rel="stylesheet" type="text/css" href="theme/html/html.css"/>
  </head>
  <body data-type="book">
    
    <header>
      <div id="buttons">
        <a href="#" id="link-toc">☰</a>
      </div>
      <img class="logo" src="http://orm-logo-service.herokuapp.com//logo.svg"/>
      <h1>atlas book skeleton</h1>
      </header>
      <div id="flex-box">
        <section id="sidebar">
          <nav data-type="toc" id="idp84400"><ol><li data-type="chapter"><a href="ch01.html#idm4743872">Module 1 - Display a Welcome Message</a></li><li data-type="chapter"><a href="ch02.html#idp274560">Module 2: Get Input</a></li><li data-type="chapter"><a href="ch03.html#idp393424">Module 3 - Deciding what to do next. </a><ol>








<li data-type="sect1"><a href="ch03.html#idp397360">IF-THEN-LOGIC</a></li>


















Obtain ingredients for making chocolate chip cookies that come with a mix where you need to add oil and eggs. 



























<li data-type="sect1"><a href="ch03.html#idp302496">IF-THEN IN RUBY</a></li>

























<li data-type="sect1"><a href="ch03.html#idp843184"> </a></li>













































<li data-type="sect1"><a href="ch03.html#idp949920">COMMON MISTAKE #2:  Misspell a ELSE</a></li>

















<li data-type="sect1"><a href="ch03.html#idp997712">MAIN DRIVER</a></li>



















































<li data-type="sect1"><a href="ch03.html#idp1221824">A little more on Algorithms</a></li>






















</ol></li></ol></nav>
        </section>
        <section id="content">
          <section id="content-body">
            <ul class="page-navigation">              
              <li><a href="ch02.html">Previous</a></li>
              <li/>
            </ul>
            <section data-type="chapter" data-pdf-bookmark="Chapter 3. Module 3 - Deciding what to do next. " id="idp393424">
<h1>Module 3 - Deciding what to do next. </h1>

<p>At this point, our blackjack player has been asked if they want to play and whether he responded. We now need to check and see if what that person wants to do. </p>

<p>The <strong>puts </strong> statement outputs the question “do you want to play?”.  The <strong>gets </strong>statement obtains the answer ('y’ for yes and ‘q’ for quit).  </p>

<p>Our new statement:  the <strong>if-then</strong> statement contains a comparison of a value to a variable.  The comparison either return <strong>true </strong>or <strong>false</strong>.  </p>

<section data-type="sect1" data-pdf-bookmark="IF-THEN-LOGIC" id="idp397360">
<h1>IF-THEN-LOGIC</h1>
</section>

<p> </p>

<p>Up to now, a program just executed each step one after the other starting at the top and going to the bottom.  Think of it like a recipe. </p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>I added an example on video games --don’t want to do dating as kids age 12 and under won’t want to do it --or least my ten year old would be sickened.  Video games is excellent.  I did cookies because kids LOVE cookies.   Was debating between that and hot chocolate.  I think we do need a recipe as I really think the best analogy for an algorithm is a recipe.  Open to more ideas....</p>
</div>

<p>Suppose we want to play a video game.  The steps are as follows:</p>

<ol>
	<li>Pick out the video game you want to play</li>
	<li>Turn the video game player on</li>
	<li>Insert the game into the player</li>
	<li>Select the options you want</li>
	<li>Play the game</li>
</ol>

<p>These steps happen one after a another and are called an <em>algorithm (AL-GOH-ri-thm).  </em>The reason for an IF-THEN statement happens if you need to do some things some of the time and other things on other occasions.  Imagine if we had different sets of instructions for each video game.</p>

<ol>
	<li>Pick out the video game you want to play</li>
	<li>Turn the video game player on</li>
	<li>Insert the game into the player</li>
	<li>IF the video game is FOOTBALL then
	<ol>
		<li>PLAY FOOTBALL</li>
	</ol>
	</li>
	<li>ELSE
	<ol>
		<li>PLAY ANOTHER GAME</li>
	</ol>
	</li>
	<li>Select the options you want</li>
	<li>Play the game</li>
</ol>

<p>If statement, number four checks to see if the game we are playing is football. So we are going to play football <em>on the condition</em> that the game we have selected is football.  Hence, the test to see if we have selected a video game is called a <em>condition</em> and it is either true or false.    The IF statement in this algorithm above tests the condition <em>does-selected-game-equal-football  </em>and the selected game either does equal football or it does not.  If it does, then the next thing we do in the algorithm is step 4.1 which says PLAY FOOTBALL.  If it does not then we do whatever is in the ELSE part of the statement.</p>

<p>Consider another algorithm -- one for making quite tasty chocolate chip cookies.</p>
Obtain ingredients for making chocolate chip cookies that come with a mix where you need to add oil and eggs. 

<ol>
	<li>Break eggs and put eggs into mixing bowl</li>
	<li>Measure oil and pour into mixing bowl</li>
	<li>Pour cookie mix into mixing bowl</li>
	<li>Mix the contents</li>
	<li>Scoop contents into cookie sheet, one cookie at a time</li>
	<li>Put sheet into oven</li>
	<li>Bake</li>
	<li>Remove cookies</li>
	<li>Eat cookies</li>
</ol>

<p>Each step happens one after the other.  Now imagine if we wanted to ask if someone wanted to make the cookies.  So we would have a <strong>puts </strong>statement to ask the question and a <strong>gets </strong>statement to obtain the answer.  </p>

<p>We need an <strong>if-then</strong> statement to find out if the user wants to make cookies and if so, go ahead and make them.  Otherwise we can just display a message that says “Fine, forget about the cookies and instead head to the bakery." </p>

<p>The structure of an <strong>if-then</strong> statement in Ruby is:</p>

<p><strong>if</strong> (comparison of a variable to a value)  <strong>then</strong></p>

<p>         statements to do if the comparison is true</p>

<p><strong>else</strong></p>

<p>     statements to do if the comparison is false</p>

<p><strong>end</strong></p>

<p> </p>

<p>If the comparison is true, the statements after the <strong>then </strong> get executed, if it is false, the statements in the true part are skipped and only the statements after the <strong>else </strong>are executed.   <strong> </strong>Ruby allows you to do the following types of comparisons:   equal, not equal, less then,  greater than and many others.  We have more <a href="http://ch04">if-then-else </a>information about nested statements, logic, and so on.</p>

<p>In our current case we simply have to find out if the user wishes to make cookies so we would say</p>

<p> </p>

<section data-type="sect1" data-pdf-bookmark="IF-THEN IN RUBY" id="idp302496">
<h1>IF-THEN IN RUBY</h1>
</section>

<p> </p>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="nb">puts</code> <code class="s2">"Want to make cookies"</code>
<code class="n">x</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code>
<code class="k">if</code> <code class="p">(</code><code class="n">x</code> <code class="o">==</code> <code class="s2">"yes"</code><code class="p">)</code> <code class="k">then</code>
<code class="err"> </code> <code class="err"> </code> <code class="n">all</code> <code class="n">the</code> <code class="n">making</code> <code class="n">cookie</code> <code class="n">statements</code> <code class="n">go</code> <code class="n">here</code>
<code class="k">else</code>
<code class="err"> </code> <code class="err"> </code> <code class="nb">puts</code> <code class="s2">"Make time to stop at a bakery."</code>
<code class="k">end</code>




</pre>

<p>For our game of black jack we need to compare a VARIABLE to a VALUE. <br/>
A <em>comparison operator</em> is used to determine how we would like to compare the Variable to the Value.  Do we want to know if they are the same, if one is bigger than the other, or one is smaller than the other?  To do this a <em>comparison operator</em> is used.   The only comparison operator we need right now is <strong>equality</strong> -- is the variable equal to the value.  It is done using two equal signs (==).  We will explain why it’s not one equal sign later.    See the <a href="http://ch03">list of comparison operators</a> for some other comparison operators.</p>

<p>The simplest comparison is one that checks to see if a variable equals a particular value.  The comparison operator in Ruby is two equal signs next to one another (==).   The reason a comparison is two equal signs is that one equal sign is already taken by the assignment operator.   If you remember the <strong>gets </strong>statement in which we assigned the result of the <strong>gets </strong>to the variable <strong>x </strong>with the statement:</p>

<pre data-type="programlisting">
x = gets</pre>

<p>Here, a single equal sign means to assign the result of the gets to the value of <strong>x.  </strong></p>

<p><br/>
Try the following:</p>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="nb">puts</code> <code class="s2">"Ready to Deal (y = yes, q = quit)"</code>
<code class="n">input</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code>

<code class="k">if</code><code class="err"> </code> <code class="p">(</code><code class="n">input</code> <code class="o">==</code> <code class="s1">'y'</code><code class="p">)</code> <code class="k">then</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"OK. Let's play."</code>
<code class="k">else</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"Fine. We will play again another time."</code>
<code class="k">end</code><code class="err">      </code>
</pre>

<p>Line 3 will be true if the user enters a “y” and if it is true then line 4 is executed. If the user enters something other than a “y” then line 6 is executed.   Try it for both cases.</p>

<p>Line 3 really has the new thing for this module which is our <strong>if-then </strong>statement.  We test the condition if <em>(input == ‘y') .  </em>This compares the variable named <em>input </em> which is populated in line two with the value ‘y’.  ‘y’ is in quotes so we are making it clear that we are comparing to the character ‘y’ and not a variable named ‘y’.  The two equal signs are critical (instead of one).  Note that we never had to actually test for ‘q’ as in this case we really do not care if the human player actually hits a ‘q’ or not.  As long as they hit something other than a ‘y’ we are happy and they can just stop playing the game.</p>

<p>Once you get the example above working, lets mess it up with a classic mistake.  Lets leave out an equal sign. </p>

<p> </p>

<section data-type="sect1" data-pdf-bookmark=" " id="idp843184">
<h1> </h1>
COMMON MISTAKE #1:  WRONG COMPARISON OPERATOR -- ONE EQUAL SIGN INSTEAD OF TWO</section>

<p> </p>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>I’m thinking the design and therefore the tagging should highlight bad examples. It might be nice to look for pitfalls visually. What do you think? </p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>I think that would be FABULOUS.  Give me hints how to do it and we’ll do it.  Might be neat to have the text appear to be typed one character at a time and then pause right when the typo occurs. </p>
</div>

<p> </p>
</div>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="nb">puts</code> <code class="s2">"Ready to Deal (y = yes, q = quit)"</code>
<code class="n">input</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code>
<code class="k">if</code><code class="err"> </code> <code class="p">(</code><code class="n">input</code> <code class="o">=</code> <code class="s1">'y'</code><code class="p">)</code> <code class="k">then</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"OK. Let's play."</code>
<code class="k">else</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"Fine. We will play again another time."</code>
<code class="k">end</code>
<code class="err">      </code>

</pre>

<p>Try it.  Unfortunately, the condition no longer works properly.  You can enter ‘y’ or ‘n’ or ‘anything’ and the “OK lets play” message will always be displayed.   The reason is that the single equal sign is an assignment operator and not a comparison operator.  It is just used  used to simply assign the value ‘y’ to the variable <strong>input</strong> since the single equal sign (=) assignment operator was used and not the symbol for a comparison.  </p>

<p>The following statement is valid Ruby syntax.  It contain an assignment followed by a comparison.  The assignment is done with the equal sign and the comparison is done the greater than (&gt;) symbol. </p>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="k">if</code> <code class="p">((</code><code class="n">input</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code><code class="p">)</code> <code class="o">==</code> <code class="s1">'y'</code><code class="p">)</code> <code class="k">then</code> 
    <code class="nb">puts</code> <code class="s2">"OK. Let's play."</code>
<code class="k">else</code> 
    <code class="nb">puts</code> <code class="s2">"Fine. We will play again another time."</code>
<code class="k">end</code>
</pre>

<p>This statement will first assign <em>input </em>to the result of gets.chop and then compare it to the value of y.  So you can combine two steps into one.  We very much do not recommend doing this as it can be really confusing to read.  Instead just break it into two statements:</p>

<pre data-type="programlisting">
input = gets.chop
if (input == 'y') then puts "x is big"
      
</pre>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>Whoa. I didn’t get that aside. You jumped back to the y example after the assignment presentation. And why would you want to do a direct assignment then a conditional test? Make sure the examples make sense. </p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>You were so RIGHT -- I didn’t realize my running example was the perfect case to show what I wanted to show ---I have no idea why I decided I had to do something weird.  Many thanks!</p>
</div>

<p> </p>
</div>

<p>However, since Ruby allows you to assign a variable and then compare it in the same statement, accidentally using a single equal sign instead of two simply looks like an assignment to Ruby inside of the IF statement.  Hence, the following statement will simply execute an assignment of moving the result of gets.chop to the variable <strong>input. </strong></p>

<pre data-type="programlisting">
if (input = gets.chop)</pre>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>While I’m liking the flow. You need to segment the text with some sort of structure. More later on that idea.</p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>I just tried putting in PARTS -- kind of like your chunks -- let me know what you think.</p>
</div>

<p> </p>
</div>

<p>Again, this will simply do the assignment and no comparison is specified since no comparison operator (e.g.; ==)  is found,  no comparison is done.   Once it is assigned, Ruby sees no harm in having the expression evaluate to TRUE as no comparison exists, so it may as well be true.  Hence, the <strong>IF</strong> statement will now be TRUE in all cases.  Adding the correct <em>comparison operator </em>double equal sign as in</p>

<pre data-type="programlisting">
if (input == 'y')</pre>

<p>will tell the Ruby interpreter that we wish to compare ‘y’ to the input and then evaluate to TRUE or FALSE based on the comparison -- no assignment is being made. </p>

<p>The real cause of the need to put in two equal signs for a comparison is</p>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>What problem? Assigning of comparing? Say that. Don’t leave the reader guessing. You’re interweaving examples and losing the reader in this section.</p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>True, I have redone it.</p>
</div>

<p> </p>
</div>

<p>reason this problem occurs because assignments are allowed in the condition being compared and the equal sign (single =) is the assignment operator and the double equal sign (==) is the comparison operator. </p>

<p>The hard part about this example is that everything appears to work well -- it is only when you try different input that you identify the problem.  The good news is that the Ruby interpreter does give you a warning: </p>

<p><strong>warning: found = in conditional, should be ==</strong></p>

<p>That is a nice hint, you do not always get such good hints, so please remember to use a double equal sign (==) for the condition inside of an <strong>IF </strong>statement.</p>

<p> </p>

<section data-type="sect1" data-pdf-bookmark="COMMON MISTAKE #2:  Misspell a ELSE" id="idp949920">
<h1>COMMON MISTAKE #2:  Misspell a ELSE</h1>

<p> </p>
</section>

<p> </p>

<p>Now, try one more error that is easier. Go ahead and misspell  the ELSE (may as well get used to this type of error as every programmer has done it a few zillion times). </p>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="nb">puts</code> <code class="s2">"Ready to Deal (y = yes, q = quit)"</code>
<code class="n">input</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code>

<code class="k">if</code><code class="err"> </code> <code class="p">(</code><code class="n">input</code> <code class="o">=</code> <code class="s1">'y'</code><code class="p">)</code> <code class="k">then</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"OK lets play."</code>
<code class="n">esle</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"Fine we will play again another time."</code>
<code class="k">end</code>
<code class="err">      </code>

</pre>

<p> </p>

<p>We have just interchanged the ‘l’ and the ’s’ in <strong>else.  </strong></p>

<p>When we try this we get:</p>

<p><strong>in ` ': undefined local variable or method `esle’ for main:Object (NameError)</strong></p>

<p>The ruby interpreter thinks we are now referring to a variable called <strong>esle</strong> and says that variable has not been defined.  Now spell else correctly, use a double equal (==) and try it again.</p>

<section data-type="sect1" data-pdf-bookmark="MAIN DRIVER" id="idp997712">
<h1>MAIN DRIVER</h1>
</section>

<h1> </h1>

<p> </p>

<p>To run the whole game of blackjack we need the following IF statement:</p>

<p> </p>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>Once again, watch your “will"s. ;-) When you read back your text always try to read it without the “will.” 99% of the time your text reads better.</p>
</div>

<p> </p>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="err"> </code> <code class="err"> </code> 
<code class="err"> </code>   <code class="nb">puts</code> <code class="err"> </code> <code class="s2">"Ready to Deal (y = yes, q = quit)"</code>
<code class="err"> </code> <code class="err"> </code> <code class="n">input</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code>
<code class="err"> </code> <code class="err"> </code> <code class="k">if</code> <code class="err"> </code><code class="p">(</code><code class="n">input</code> <code class="o">==</code> <code class="s1">'y'</code><code class="p">)</code> <code class="k">then</code>
<code class="err"> </code>      <code class="n">deck</code> <code class="o">=</code> <code class="no">Deck</code><code class="o">.</code><code class="n">new</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="n">player</code> <code class="o">=</code> <code class="no">Player</code><code class="o">.</code><code class="n">new</code><code class="p">(</code><code class="n">deck</code><code class="p">)</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="n">dealer</code> <code class="o">=</code> <code class="no">Dealer</code><code class="o">.</code><code class="n">new</code><code class="p">(</code><code class="n">deck</code><code class="p">)</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="c1"># now draw until stick</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="n">player</code><code class="o">.</code><code class="n">draw_remaining_cards</code>

       <code class="k">if</code> <code class="p">(</code><code class="n">player</code><code class="o">.</code><code class="n">is_not_busted?</code><code class="p">)</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="n">dealer</code><code class="o">.</code><code class="n">draw_remaining_cards</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="k">end</code>

      <code class="err"> </code><code class="nb">puts</code> <code class="s2">"Player: "</code> <code class="o">+</code> <code class="n">player</code><code class="o">.</code><code class="n">score</code> <code class="s2">"Dealer: "</code> <code class="o">+</code> <code class="n">dealer</code><code class="o">.</code><code class="n">score</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="k">if</code> <code class="n">player</code><code class="o">.</code><code class="n">score</code> <code class="o">&gt;</code> <code class="n">dealer</code><code class="o">.</code><code class="n">score</code><code class="err"> </code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="nb">puts</code> <code class="s2">"Congratulations! You won."</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="k">else</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="nb">puts</code> <code class="s2">"Sorry. You lost."</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="k">end</code>
<code class="err"> </code> <code class="err"> </code> <code class="k">else</code>
<code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="nb">puts</code> <code class="s2">"Sorry. You didn't want to play."</code><code class="err"> </code>
<code class="err"> </code> <code class="err"> </code> <code class="k">end</code>
<code class="k">end</code>

<code class="nb">puts</code> <code class="s2">"Have a good day."</code>


</pre>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line one is our friendly message to the user. </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line two is where we get the response and chop off the newline with a “\n”. </span></p>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>I’m feeling the rollovers again. What if we were able to read the text about each line on mouseover? Crazy or good idea? That could be additive rather than replacing the text.</p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>Yep, rollovers of even a line-by-line animation where we show a line, talk about it and then have a new line type in or fly in.  I would be glad to try different things. Showing the code and then going line by line is really what you are forced to do with a book -- not sure we have to stick to it.  Also when we have a thing that runs the code, making it so the students can see all the variables referenced and their current value would be a huge thing.  I constantly and drawing boxes of variables when I step through things with students.</p>
</div>

<p> </p>
</div>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Now we get to our new thing for this module which is our <strong>if-then </strong>statement.  We test te condition if <em>(input == ‘y') .  </em>This compares the variable named <em>input </em> which was populated in line two with the value ‘y’.  ‘y’ is in quotes so we are making it clear that we are comparing to the character ‘y’ and not a variable named ‘y’.  The two equal signs are critical (instead of one which is a common error made every day by very experienced programmers) as they indicate that a comparison is to be made.  </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 3-12 are the core of the black jack game.  </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 4 initializes a deck of cards.  </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 5 initializes a player. </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 6 initializes a dealer. </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 7 has the player keep drawing cards until they elect to choose no more cards in other words they decide to stick with their hand. </span></p>

<p><span style="font-family: Georgia, serif; font-size: 17px; line-height: 1.5em;">Line 8 has another if statement to see if the player has busted (gone over 21) or not.  If the player has not busted then the dealer needs some cards which is handled by the method <strong>draw_remaining_cards </strong>in Line 9.  A method is a sequence of steps that are defined separately.  Imagine if we had a <strong>make_cookies</strong> method that had our numbered steps  </span>from before -- then instead of repeating those 9 steps every time we wanted to have the program make cookies, we would just say <strong>make_cookies.  </strong>Similarly, the steps to draw remaining cards have been stored in a <strong>method </strong>called <strong>draw_remaining_cards. </strong></p>

<p>After dealing the dealer her cards we check the player’s total and compare to the dealer total in line 17. Notice the (&gt;) or greater than sign used in this comparison to see if the player has a higher total than the dealer.  If the player does have a higher total the player wins, otherwise the dealer wins. </p>

<p>One thing we didn’t emphasize is that an IF statement can have another IF statement in the middle of it.   Notice that we have one IF statement in line 3 that checks to see the users input and then if the user did want to play blackjack we then execute the ruby commands in lines 4-20, otherwise we execute the ruby commands after the <strong>ELSE </strong>which is in line 22 and 23.</p>

<p>Do not try typing this in yet as we have not defined all the methods.</p>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>That’s a downer. Can you give our new programmer a copy and past cheat so they can run the code now?</p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>we have two options, we could go through and stub out all the methods and have them a run a shell of blackjack -- i almost did that, but that forces us into a big discussion of objects that i don’t want to do right now.  Or we just have the whole thing ready to go and hit run and we say we’ll explain all the other modules later.  I’m open to both ideas, i know its a downer and I didn’t like it when I wrote  the sentence (DON’T TRY IT).</p>
</div>

<p> </p>
</div>

<p>  In the coming modules we will define and test each method and then we will come back and put in this code (lines 1-24) and the whole game will be done.</p>

<p>For now, just to give you the feel of an if statement, enter the following:</p>

<pre data-code-language="ruby" data-executable="true" data-type="programlisting">
<code class="nb">puts</code> <code class="s2">"Ready to Deal (y = yes, q = quit)"</code>
<code class="n">input</code> <code class="o">=</code> <code class="nb">gets</code><code class="o">.</code><code class="n">chop</code>

<code class="k">if</code><code class="err"> </code> <code class="p">(</code><code class="n">input</code> <code class="o">==</code> <code class="s1">'y'</code><code class="p">)</code> <code class="k">then</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"OK. Let's play."</code>
<code class="k">else</code>
<code class="err">   </code> <code class="nb">puts</code> <code class="s2">"Fine. We will play again another time."</code>
<code class="k">end</code>
<code class="err">      </code>


</pre>

<p>Another thing to mention is that in this module we have basically described all the components needed to play Blackjack and the statements in line 4-20 are what is called the <strong>main driver</strong> of this program.  These statements call other methods to get things done but the high level steps are all here.   Essentially, if we were writing our “bake cookies” steps we would have:</p>

<section data-type="sect1" data-pdf-bookmark="A little more on Algorithms" id="idp1221824">
<h1>A little more on Algorithms</h1>

<p> </p>
</section>

<p> </p>

<p> </p>

<p>See if User wants to Play</p>

<ol>
	<li>If user wishes to play THEN</li>
	<li>      Initialize a Player</li>
	<li>      Initialize a Dealer</li>
	<li>      Draw all the cards for the Player</li>
	<li>     If player_score is less then 21 then</li>
	<li>             Draw all the cards for the dealer</li>
	<li>     If the player has a higher score than the dealer</li>
	<li>             Output “Player Wins”</li>
	<li>     Else</li>
	<li>            Output “Dealer Wins”</li>
	<li>     end</li>
	<li>End</li>
</ol>

<p> </p>

<p>The steps 1-12 we have just listed here are called psuedocode as they are mostly in English and not meant to be specific to any programming language.  This step by step listing of how to solve a problem (e.g.; the problem here is to make the computer play blackjack) is called an <strong>algorithm </strong>(pronounced ALG-OH-rhythm).   The study of Computer Science is really all about the study of algorithms.  For any algorithm you can always compute how many steps the computer will take.  A big part of Computer Science is finding more efficient algorithms to solve the same problem.  For some problems, a faster algorithm can be shown to do more good and make the problem go away thousands of times faster than buying a much more expensive and faster computer. </p>

<p>People tend to focus on learning a programming language, but Computer Science doesn’t get all wrapped up in a particular programming language.  Programming languages come and programming languages go -- but good algorithms prevail.   We think Ruby is a good programming language to teach algorithm development as much of Ruby reads a good bit like pseudocode, but you should always remember that a good program really should only be written once you have a good algorithm.    Hence, the first thing you should do before typing in a program is to write out the algorithm in pseudocode and make sure you have thought through all the different things that can happen.  For instance, if our algorithm left out step 10, then we would end up with no output, the dealer wins, and the program would only work when the player wins.   So check your algorithm and make sure you have thought about the different things that can happen.  Then implement your algorithm with a programming language and then test the software that implements the algorithm.   Module <a href="http://ch01">xxx </a>gives you more information about algorithms and pseudocode.</p>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>Another click here kind of thing... &lt;link&gt;Module x&lt;/link&gt; gives you more information about algorithms and pseudocode.</p>
</div>

<div data-nickname="petrycki" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/d4945bdcb61d40753a9fc1142633ff9e"/>
<div spellcheck="false">petrycki</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>Like I said, the flow is good. What I’d like to see is chunking and labeling. For example, how about setting aside the initial if-then-else description, both pitfall/error sections or assignment vs. compare, main driver, discussions of algorithms, pseudocode description. It will help when you want to refer to those sections or the learner returns to the material. I would simply use standard headings.</p>

<div data-nickname="dagr1234" data-type="comment">
<div class="comment-identifier" contenteditable="false"><img src="https://secure.gravatar.com/avatar/aac3dd6128e307df756933f6a5be9e1f"/>
<div spellcheck="false">dagr1234</div>
<i class="delete_comment glyphicons remove_2"> </i></div>

<p>I put in sections but I can change the headings -not sure which is best.  Clearly a good thing to do to break this up into chunks. </p>
</div>

<p> </p>
</div>

<p> </p>

<p> </p>
</section>
            <ul class="page-navigation">
              <li><a href="ch02.html">Previous</a></li>
              <li/>
            </ul>
          </section>
        </section>
      </div>
  </body>
</html>
