<section class="pagenumrestart" data-type="chapter" id="conditional_structures" xmlns="http://www.w3.org/1999/xhtml">
<h1>Conditional Structures</h1>

<aside data-type="sidebar">
<h5>In This Chapter</h5>

<ul>
	<li>
	<p>Flow of execution</p>
	</li>
	<li>
	<p><code>If-Then-Else</code> statements</p>
	</li>
	<li>
	<p><code>Elsif</code> statements</p>
	</li>
	<li>
	<p><code>Case</code> statements</p>
	</li>
	<li>
	<p>Debugging</p>
	</li>
</ul>
</aside>

<section data-type="sect1" id="fourdot1_introduction">
<h1>4.1 Introduction</h1>

<p>The preceding chapter introduced core programming elements, including variables of various data types and the process of input and output. Now it is time to use these concepts within a new context: conditional structures. This chapter explains the logic of conditional structures and presents the tools that allow them to work. These tools include the <code>if</code> statement, the <code>elsif</code> statement, and the <code>case</code> statement. We will also address debugging.</p>
</section>

<section data-type="sect1" id="fourdot2_flow_of_execution">
<h1>4.2 Flow of Execution</h1>

<section data-type="sect2" id="logic_flow">
<h2>Logic Flow</h2>

<p>Every algorithm has some type of <em>logic flow</em>. It is very easy to demonstrate logic flow using a <em>flowchart</em>. Let&rsquo;s revisit the algorithm for driving from but this time illustrate it using the flowchart in .</p>

<figure id="flowchart_directions_of_figure_1dot2" style="float: 0"><img src="images/cspr_0401.png" />
<figcaption>Flowchart directions of</figcaption>
</figure>

<p>To properly move through the flowchart, start in the box that has the word <em>Start</em> in it, perform the step in that box, and then follow the arrow to the next box. Continue this process until there is nowhere else to go in the chart. If you walked through this flowchart, you would see that each step is performed once before moving on to the next step. This is known as <em>one-directional flow</em>. Algorithms with a one-directional logic flow do not really warrant a flowchart. However, not all algorithms are that simple, and not all flow is in one direction; that is, multiple possible execution flows exist. For example, shows a non-one-directional logical flow that models a choice between the two directions presented in Figures and found in .</p>

<figure id="multiple_path_logic_flowchart" style="float: true"><img src="images/cspr_0402.png" />
<figcaption>Multiple-path logic flowchart</figcaption>
</figure>

<p>To move through the flowchart in , start in the uppermost box and follow the arrow to the next box. In this box, there is a condition and two arrows, but you pick one based on the outcome of the condition. After this, move on to the next box, and the rest of this diagram is one-directional. This type of flow, where a certain condition must be met to carry out the next step, is called <em>conditional flow</em>. We will talk about this in more detail later in the chapter. Also, later in the chapter, we refine the flowchart structure.</p>
</section>
</section>

<section data-type="sect1" id="fourdot3_conditional_control">
<h1>4.3 Conditional Control</h1>

<p>When more than one flow option exists in the control flow, it is called a conditional control flow. Whenever a certain condition is met, its respective flow option is followed. A condition is an expression defined using relational and Boolean operators that <span class="keep-together">evaluate</span> to either true or false. The list and interpretation of the supported relation operators is presented in .</p>

<table id="relational_operators">
	<caption>Relational operators</caption>
	<thead>
		<tr>
			<th>Relational operator</th>
			<th>Meaning</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<p>==</p>
			</td>
			<td>
			<p>Equal to</p>
			</td>
		</tr>
		<tr>
			<td>
			<p>!=</p>
			</td>
			<td>
			<p>Not equal to</p>
			</td>
		</tr>
		<tr>
			<td>
			<p><em>&lt;</em></p>
			</td>
			<td>
			<p>Less than</p>
			</td>
		</tr>
		<tr>
			<td>
			<p><em>&gt;</em></p>
			</td>
			<td>
			<p>Greater than</p>
			</td>
		</tr>
		<tr>
			<td>
			<p><em>&lt;</em>=</p>
			</td>
			<td>
			<p>Less than or equal to</p>
			</td>
		</tr>
		<tr>
			<td>
			<p><em>&gt;</em>=</p>
			</td>
			<td>
			<p>Greater than or equal to</p>
			</td>
		</tr>
	</tbody>
</table>

<p>An example of the use of relational operators to form relational expressions is shown in .</p>

<div data-type="example" id="ex4-1">
<h5>Relational expressions example</h5>

<pre data-original-title="" data-type="programlisting" title="">
irb(main):001:0&gt; 5 == 5
=&gt; true
irb(main):002:0&gt; 5 == 6
=&gt; false
irb(main):003:0&gt; 5 &lt;= 5
=&gt; true
irb(main):004:0&gt; 5 != 5
=&gt; false</pre>
</div>

<p>To create complex expressions, simple relational expressions are combined by using Boolean operators. Two Boolean variable operators available in Ruby are <code>and</code> and <code>or</code>. The operator <code>and</code> evaluates to true only if both operands are true. In contrast, the operator <code>or</code> evaluates to true if either or both operands are true. To ensure the precedence you desire, a good programming practice is to use parentheses. A truth table is presented in .</p>

<table id="truth_table_for_and_and_or">
	<caption>Truth table for and and or</caption>
	<thead>
		<tr>
			<th>A</th>
			<th>B</th>
			<th>&nbsp;</th>
			<th>&nbsp;</th>
		</tr>
		<tr>
			<th>&nbsp;</th>
			<th>&nbsp;</th>
			<th>&nbsp;</th>
			<th>&nbsp;</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
			<p>True</p>
			</td>
			<td>
			<p>True</p>
			</td>
			<td>True</td>
			<td>True</td>
		</tr>
		<tr>
			<td>
			<p>True</p>
			</td>
			<td>
			<p>False</p>
			</td>
			<td>False</td>
			<td>True</td>
		</tr>
		<tr>
			<td>
			<p>False</p>
			</td>
			<td>
			<p>True</p>
			</td>
			<td>False</td>
			<td>True</td>
		</tr>
		<tr>
			<td>
			<p>False</p>
			</td>
			<td>
			<p>False</p>
			</td>
			<td>False</td>
			<td>False</td>
		</tr>
	</tbody>
</table>

<p>Recall the negation operator (<code>!</code>) that appears in the not equal to relational operator. This operator is a simple negation and works on any true or false expressions or conditionals, as shown in . Sometimes the negation operator <code>!</code> is denoted by the word <code>not</code>. In fact, the fifth example in the figure, regardless of the Boolean values you set for <code>first</code> and <code>second</code>, will always evaluate to true. This is called a <em>tautology</em>.</p>

<div data-type="example" id="ex4-2">
<h5>Boolean expressions example</h5>

<pre data-original-title="" data-type="programlisting" title="">
irb(main):001:0&gt; !false
=&gt; true
irb(main):002:0&gt; !(true or false)
=&gt; false
irb(main):003:0&gt; first=true
=&gt; true
irb(main):004:0&gt; second=false
=&gt; false
irb(main):005:0&gt; (first and second) or !(first and second)
=&gt; true</pre>
</div>

<section data-type="sect2" id="control_flow">
<h2>Control Flow</h2>

<p>Control flow is logic flow in the context of a program. Just as algorithms start somewhere and show an order of steps until the end of the algorithm, so does a program. Programs have a starting instruction, and then instructions are executed in a specific order, and eventually the program ends. We use a flowchart to illustrate control flow. revisits the names example to illustrate control flow with flowcharts. Note that the start and endpoints of the algorithms are indicated by circular shapes (circles or ovals depending simply on the length of text contained).</p>

<p>This type of flow is known as <em>one-directional control flow</em>. Programs are not limited to one-directional control flow. In this chapter, we discuss programming constructs that allow us to change program control flow. Understanding this control flow is essential to being able to create and test (debug) an implementation of an algorithm.</p>

<figure id="control_flowchart" style="float: 0"><img src="images/cspr_0405.png" />
<figcaption>Control flowchart</figcaption>
</figure>
</section>
</section>
<!--?hard-pagebreak?-->

<section data-type="sect1" id="fourdot4_if-then-else_statements">
<h1>4.4 If-Then-Else Statements</h1>

<p>Ruby uses an <code>if</code> statement for basic conditional control flow.</p>

<div data-type="note" id="ch04note01">
<h1>Gem of Wisdom</h1>

<p>An <code>If-Then-Else</code> statement or its equivalent is found in every programming language.</p>
</div>

<p>The basic form of an <code>if</code> statement is shown in .</p>

<div data-type="example" id="if_statement">
<h5>If statement</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
    1 if (condition)
    2 	# section 1
    3 end
</pre>
</div>

<p>The <em>condition</em> is a logical expression, as described previously; in , section 1 is executed when the condition evaluates to true, and it is skipped when the condition evaluates to false. An example of using the <code>if</code> statement is shown in . Given a number from the user, the program determines if the value is even. If it is, the program will print &ldquo;Even&rdquo; to the screen.</p>

<div data-type="example" id="if_even">
<h5>Determine if the number is even</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
    1 # if a number is even, print out &quot;Even&quot;
    2 puts &quot;Enter a number&quot;	# print message
    3 number = gets.to_i	# get number as an integer
    4 if (number % 2 == 0)	# check if even
    5 	puts &quot;Even&quot;
    6 end
</pre>
</div>

<div>
<p><a href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-4.rb" style="border:0;text-decoration:none"><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></p>
</div>

<p>&nbsp;</p>

<p>Assume the user inputs a value of 11. In this case, <code>number</code> will be equal to 11 when we try to evaluate the expression <code>number % 2 == 0</code>. This means that the flow option, shown on line 5, will not execute because the expression <code>11 % 2 == 0</code> will evaluate to false since 11 % 2 is equal to 1, not 0. Thus, nothing will be printed to the screen. If the user enters 10, then <code>10 % 2 ==</code> <code>0</code> will evaluate to true, meaning <code>puts ''Even''</code> will be executed; the screen will display &ldquo;Even.&rdquo;</p>

<p>The <code>if</code> statement can be extended with the use of the <code>else</code>. The general form for the <code>if-else</code> statement can be seen in .</p>

<div data-type="example" id="if-else_statement">
<h5>If-else statement</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
    1 if (condition)
    2 	# section 1
    3 else
    4 	# section 2
    5 end
</pre>
</div>
<!--?hard-pagebreak?-->

<p>This is similar to the first <code>if</code> statement presented; however, now there is a second flow option. In this case, if the original condition is not met, the second flow option is taken. For example, we can create a program that will tell us how much a movie ticket will cost based on a customer&rsquo;s age. Anybody under age 12 would get a discounted rate. We will call our program <code data-type="filename">theater.rb</code> and use the code shown in . Note that on line 13, we introduce the concatenation of two strings by using the <code>+</code> operator between them.</p>

<div data-type="example" id="theater_hash1">
<h5>Theater 1</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 
     5 # Determine the cost based on age
     6 if (age &lt; 12)
     7 	cost = 9
     8 else
     9 	cost = 18
    10 end
    11 
    12 # Print out the final cost
    13 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>
</div>

<div><a data-original-title="" href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-6.rb" style="border:0;text-decoration:none" title=""><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></div>

<p>&nbsp;</p>

<p>The logic flow of the code in is shown in . Note that another new construct in our flowchart uses diamonds. Diamonds represent conditional points. Each option of the condition is designated on an outgoing branch. The algorithm follows the branch corresponding to the value of the conditional.</p>

<div data-type="note" id="ch04note02">
<h1>Gem of Wisdom</h1>

<p>Make sure you can step through and understand each and every step. Play computer and consider different values for <code>age</code>; trace each step. What if <code>age</code> is 20? What if <code>age</code> is 5? Are there any cases where this program will not work?</p>
</div>
<!--?hard-pagebreak?-->

<figure id="if-else_statement_flowchart" style="float: 0"><img src="images/cspr_0410.png" />
<figcaption>If-else statement flowchart</figcaption>
</figure>

<section data-type="sect2" id="testing_conditional_flow">
<h2>Testing Conditional Flow</h2>

<p>Now that we have a program whose logic forks into separate paths, it is important to make sure that both forks work.</p>

<p>The movie theater will look unkindly on accidentally giving everybody a discount, especially if these moviegoers are not under age 12! We test the code stored in the file <em>theater.rb</em> by running at least one test in each flow option of logic:</p>

<pre data-code-language="ruby" data-type="programlisting" id="pro_id00032">
$ ruby theater.rb
Enter customer's age:
8
Cost: 9</pre>

<p>To test this for a higher value, we try again:</p>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" id="pro_id00033" title="">
$ ruby theater.rb
Enter customer's age:
25
Cost: 18</pre>

<p>Most errors occur on edge or boundary conditions. In our example, <code>12</code> is where the price switch happens. As such, it is important to test the value <code>12</code> itself.</p>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" id="pro_id00034" title="">
$ ruby theater.rb
Enter customer's age:
12
Cost: 18</pre>

<p>If this is not what you expected, then you are used to the way many companies work: if a person is age 12 or under, the person is considered a child. If the movie theater wants to abide by this standard, we will have to modify our conditional test to become less than or equal to.</p>

<p>Like most computer problems, there are many ways to achieve the same result. We could have changed the conditional to be &ldquo;age <em>&lt;</em> 13&rdquo;. However, since &ldquo;age <em>&lt;</em>= 12&rdquo; better represents the real-world concept, it makes for code that is far more readable. The corresponding version of the program is presented in .</p>

<div data-type="example" id="theater_hash2">
<h5>Theater 2</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 
     5 # Determine the cost based on age
     6 if (age &lt;= 12)
     7 	cost = 9
     8 else
     9 	cost = 18
    10 end
    11 
    12 # Print out the final cost
    13 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>

<div><a data-original-title="" href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-9.rb" style="border:0;text-decoration:none" title=""><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></div>

<p>&nbsp;</p>
</div>
</section>

<section data-type="sect2" id="elsif_statements">
<h2>Elsif Statements</h2>

<p>Conditional flow can have more than two flow options by using <code>elsif</code> statements. The flowchart in shows multiple conditional flow and follows the code template shown in .</p>

<figure id="elsif_statement_logic_flow" style="float: 0"><img src="images/cspr_0412.png" />
<figcaption>Elsif statement logic flow</figcaption>
</figure>

<div data-type="example" id="elsif_statements-id00004">
<h5>Elsif statements</h5>

<pre data-code-language="ruby" data-type="programlisting">
    1 if (condition1)
    2 	# section 1
    3 elsif (condition2)
    4 	# section 2
    5 elsif (condition3)
    6 	# section 3
    7 else
    8 	# section 4
    9 end
</pre>
</div>

<p>Only one of these four sections shown in will be executed. If none of the three conditions are met, the fourth section will run. Note that the first satisfied (<code>true</code>) condition encountered will be executed regardless of whether multiple conditions evaluate to true. With <code>elsif</code> statements, it is possible to expand to as many flow options as needed. Like the regular <code>if</code> statement, the final <code>else</code> is optional. If the movie theater decided to have different rates for children and senior citizens, the <code>elsif</code> statement would come in handy, as shown in .</p>

<div data-type="example" id="theater_hash3">
<h5>Theater 3</h5>

<pre data-code-language="ruby" data-type="programlisting">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 
     5 # Determine the cost based on age
     6 if (age &lt;= 12)
     7 	cost = 9
     8 elsif (age &gt;= 65)
     9 	cost = 12
    10 else
    11 	cost = 18
    12 end
    13 
    14 # Print out the final cost
    15 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>
</div>

<p>The movie theater, however, may likewise decide to sell tickets at the children&rsquo;s discounted price for senior customers as well. We modify our example to include <span class="keep-together"><code>age &gt;= 65</code> </span>in the discounted flow option, as in . Note that in this example, we use multiple conditions combined with a Boolean operation to form a single condition.</p>

<div data-type="example" id="advanced_conditionals">
<h5>Advanced conditionals</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 
     5 # Determine the cost based on age
     6 if ((age &lt;= 12) or (age &gt;= 65))
     7   cost = 9
     8 else
     9   cost = 18
    10 end
    11 
    12 # Print out the final cost
    13 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>
</div>
</section>
</section>

<section data-type="sect1" id="fourdot5_case_statements">
<h1>4.5 Case Statements</h1>

<p>Instead of using <code>if-elsif</code> statements, Ruby has another statement called <code>case</code> for handling multiple options. This statement is useful when presenting users with a large menu of different choices. The <code>case</code> statement is expressed in .</p>

<div data-type="example" id="case_statement">
<h5>Case statement</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
    1 case
    2 when (expression1)
    3 	# section 1
    4 when (expression2)
    5 	# section 2
    6 else
    7 	# section 3
    8 end
</pre>
</div>

<p>After looking at a <code>case</code> statement in use, you may be wondering what would happen if multiple <code>when</code> clauses evaluate to true. <code>Case</code> statements are processed in order, so the first condition that evaluates to true has its corresponding flow option execute, skipping over all others. As noted earlier, this processing order is identical to the cascaded <span class="keep-together"><code>if-else</code> statements.</span></p>

<p>We now update the movie theater example, where children, adults, and senior citizens have differing rates to make use of the <code>case</code> statement as shown in .</p>

<div data-type="example" id="theater_hash4">
<h5>Theater 4</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 
     5 # Determine the cost based on age
     6 case
     7 when (age &lt;= 12)
     8 	cost = 9
     9 when (age &gt;= 65)
    10 	cost = 12
    11 else
    12 	cost = 18
    13 end
    14 
    15 # Print out the final cost
    16 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>

<div><a href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-12.rb" style="border:0;text-decoration:none"><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></div>

<p>&nbsp;</p>
</div>
</section>

<section data-type="sect1" id="fourdot6_debugging">
<h1>4.6 Debugging</h1>

<p>Basic debugging is a skill that every programmer must learn. When your program is malfunctioning and you do not have a clue where the error is located, you can use multiple <code>puts</code> statements to check the value of your variables at different times. Modify the code in to use the assignment operator (<code>=</code>) instead of the comparison operator (<code>&lt;=</code>) in the first conditional statement, as in .</p>

<div data-type="example" id="debugging_example_hash1">
<h5>Debugging example 1</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 
     5 # Determine the cost based on age
     6 case
     7 # '=' is assignment NOT equality test '=='
     8 when (age = 12) then
     9 	cost = 9
    10 when (age &gt;= 65) then
    11 	cost = 12
    12 else
    13 	cost = 18
    14 end
    15 
    16 # Print out the final cost
    17 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>

<div><a href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-13.rb" style="border:0;text-decoration:none"><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></div>

<p>&nbsp;</p>
</div>

<p>If you run the example, it will not matter what age you input; it will always output the ticket cost as <code>9</code>. This is because you are not comparing <code>age</code> to the integer 12 but instead assigning 12 to <code>age</code>, which is something that will evaluate to true. Edit the program to match .</p>

<div data-type="example" id="debugging_example_hash2">
<h5>Debugging example 2</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 puts &quot;Enter the customer's age: &quot;
     2 # Get an integer age value from the user
     3 age = gets.to_i
     4 # DEBUG
     5 puts age
     6 
     7 # Determine the cost based on age
     8 case
     9 # '=' is assignment NOT equality test '=='
    10 when (age = 12) then
    11 	cost = 9
    12 when (age &gt;= 65) then
    13 	cost = 12
    14 else
    15 	cost = 18
    16 end
    17 # DEBUG
    18 puts age
    19 
    20 # Print out the final cost
    21 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>
<!--?hard-pagebreak?--></div>

<div><a href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-14.rb" style="border:0;text-decoration:none"><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></div>

<p>&nbsp;</p>

<p>By adding <code>puts</code> statements before the <code>case</code> statement and at the end of the program, you are checking what value is stored after it is entered and after the <code>case</code> statement was executed. If you run the new program, you will see that the first output will equal whatever age value you originally entered. However, at the end of the program, the <code>puts</code> will output the value 12, no matter what value was previously entered for age.</p>

<p>From this, you can infer that the value of <code>age</code> changed somewhere between the two <code>puts</code> statements. As you remember, we changed the comparison operator (<code>&lt;=</code>) to the assignment operator (<code>=</code>). The assignment operator <code>=</code> is often mistyped when programmers meant to use the comparison operator <code>==</code>.</p>

<p>Using <code>puts</code> statements to output key values is one of the simplest yet most effective ways to debug a program.</p>

<section data-type="sect2" id="fourdot6dot1_alternative_styles_of_debug">
<h2>4.6.1 Alternative Styles of Debugging</h2>

<p>Debugging your program includes printing intermediate steps. Further, it is highly advised&mdash;or more accurately, required&mdash;that you debug your program one portion at a time, rather than the entire program as a whole.</p>

<p>Another approach relies on one or more constants, possibly named <code>DEBUG_MODULE_1</code>, <code>DEBUG_MODULE_2</code>, and so on. In such an approach, these debugging flag constants are defined at the beginning of the program and set initially to <code>true</code>. In each corresponding section of the code, the programmer writes an <code>if</code> statement with the debugging constant as the flag that determines whether a <code>puts</code> statement is executed. Once the particular section of the program being tested is determined to be correct, the constant is set to <code>false</code>. This approach is shown in .</p>

<div data-type="example" id="debugging_example_hash3">
<h5>Debugging example 3</h5>

<pre data-code-language="ruby" data-original-title="" data-type="programlisting" title="">
     1 # Flag for debugging (change to false when finished debugging)
     2 DEBUG_MODULE_1 = true
     3 
     4 puts &quot;Enter the customer's age: &quot;
     5 # Get an integer age value from the user
     6 age = gets.to_i
     7 
     8 # Determine the cost based on age
     9 if DEBUG_MODULE_1
    10 	puts age
    11 end
    12 case
    13 # '=' is assignment NOT equality test '=='
    14 when (age = 12) then
    15 	cost = 9
    16 when (age &gt;= 65) then
    17 	cost = 12
    18 else
    19 	cost = 18
    20 end
    21 if DEBUG_MODULE_1
    22 	puts age
    23 end
    24 
    25 # Print out the final cost
    26 puts &quot;Ticket cost: &quot; + cost.to_s
</pre>

<div><a href="https://www.nitrous.io/hack_button?source=embed&amp;runtime=rails&amp;repo=odewahn%2Fcs-basics-ruby&amp;file_to_open=ch4%2F4-15.rb" style="border:0;text-decoration:none"><img alt="Hack odewahn/cs-basics-ruby on Nitrous.IO" src="https://d3o0mnbgv6k92a.cloudfront.net/assets/hack-l-v1-3cc067e71372f6045e1949af9d96095b.png" /></a></div>

<p>&nbsp;</p>
</div>

<p>Line 2 defines the constant to be used as our debug flag. Lines 9&ndash;11 and 21&ndash;23 represent code that should be run only during debug mode to help ensure that the program is running correctly. Compare the output of the code with <code>DEBUG_MODULE_1</code> set to <code>true</code> and <code>false</code>.</p>
</section>
</section>

<section data-type="sect1" id="fourdot7_summary">
<h1>4.7 Summary</h1>

<p>We discussed how to implement conditional execution in Ruby. The <code>if</code> statement can cover simple conditions, and the <code>case</code> statement can cover more complex conditions. Relational operators, outlined in , were introduced, as well as their combinations and negations.</p>
<!--?hard-pagebreak?-->

<section data-type="sect2" id="fourdot7dot1_key_concepts">
<h2>4.7.1 Key Concepts</h2>

<ul>
	<li>
	<p>Every program follows a <em>control flow</em>, which is dictated by the <em>logic flow</em> of its algorithms. <em>Logic flow</em> and <em>control flow</em> can be better understood in a <em>flowchart</em>, and are often <em>one-directional</em> or <em>conditional</em>.</p>
	</li>
	<li>
	<p>Relational operators are the key to creating <em>conditional flow</em>. An expression that uses a relational operator is known as a <em>relational expression</em>.</p>
	</li>
	<li>
	<p>Another way to create <em>conditional flow</em> is through the use of advanced conditional structures. This is done by employing special statements, such as <code>if</code>, <code>elsif</code>, and <code>case</code>.</p>
	</li>
</ul>
</section>

<section data-type="sect2" id="fourdot7dot2_key_definitions">
<h2>4.7.2 Key Definitions</h2>

<ul>
	<li>
	<p><em>Flowchart</em>: A tool for understanding the logic flow of an algorithm or the control flow of a program.</p>
	</li>
	<li>
	<p><em>Logic flow</em>: The order in which an algorithm performs key steps:</p>

	<ul>
		<li>
		<p><em>One-directional flow</em>: When the logic flow of an algorithm follows a one-directional order (i.e., a straight line)</p>
		</li>
		<li>
		<p><em>Conditional flow</em>: When the logic flow of an algorithm follows a conditional order (i.e., different conditions lead to different paths)</p>
		</li>
	</ul>
	</li>
	<li>
	<p><em>Relational expression</em>: An expression that uses a relational operator.</p>
	</li>
</ul>
</section>
</section>

<section data-type="sect1" id="fourdot8_exercises">
<h1>4.8 Exercises</h1>

<ol class="qonly">
	<li>
	<p>Prompt the user for an integer and test if it&rsquo;s even or odd. Consider using the way Ruby rounds operations on integers when appropriate. Save this program in a file called <code data-type="filename">compare.rb</code>.</p>
	</li>
	<li>
	<p>Modify <code data-type="filename">compare.rb</code> so that it:</p>

	<ol type="a">
		<li>
		<p>Prompts the user for an integer between 5 and 10 (inclusive) and displays whether or not the input was correct. Implement this using an <code>if</code>/<code>else</code> <span class="keep-together">statement</span>.</p>
		</li>
		<li>
		<p>Prompts the user for an integer between 5 and 10 and then informs the user if the integer was below the range, in the range, or above the range. Implement this using a <code>case</code> statement.</p>
		</li>
	</ol>
	</li>
	<li>
	<p>Write a program that, given two points on a two-dimensional graph, outputs a message (string) if the line that connects them is horizontal or vertical, or if the slope is positive or negative.</p>
	</li>
	<li>
	<p>Write a program to solve a system of two linear equations. A linear equation is a mathematical equation that describes a line through its slope (<em>m</em>) and its <em>y</em>-intercept (<em>b</em>), and it will take the form <em>y</em> = <em>mx</em> + <em>b</em>. Make sure to account for the cases where there is no solution or where there are an infinite number of solutions.</p>
	</li>
	<li>
	<p>The unit pulse function, <em>d</em>[<em>n</em>], is very important in digital signal processing. This function is defined for integers only. It is equal to 1 when <em>n</em> is 0, and it is equal to 0 when <em>n</em> is any other integer. Write a program that prompts the user for an integer <em>n</em>, and returns the value <em>d</em>[<em>n</em>].</p>
	</li>
	<li>
	<p>Prompt the user for integers <em>x</em>, <em>y</em>, and <em>z</em>. Implement the decision tree shown in based on the values using <code>if</code> statements. Output how many of the variables are greater than 0. Note: each right flow option represents <em>false</em>, and each left flow option represents <em>true</em>.</p>
	</li>
</ol>

<figure id="decision_tree_en_dash_problem_4dot6" style="float: 0"><img src="images/cspr_0421.png" />
<figcaption>Decision tree for Exercise 6</figcaption>
</figure>
</section>
</section>
